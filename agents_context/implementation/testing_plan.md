# TheraType 테스트 계획

**목적**: 안정적인 제품 출시를 위한 체계적 테스트 전략

---

## 🧪 테스트 전략 개요

### MVP 테스트 우선순위

1. **Critical Path** (필수): 회원가입 → Insight → Therapy → Dashboard
2. **Core Functionality** (핵심): 타이핑 분석, 데이터 저장
3. **User Experience** (경험): UI/UX, 에러 처리
4. **Edge Cases** (예외): 빈 입력, 네트워크 오류 등

### 테스트 유형

- **수동 테스트** (Manual Testing): 개발 중 지속적 확인
- **내부 팀 테스트** (Internal Testing): Week 2-3 완료 시
- **사용자 테스트** (User Testing): Week 4 (10-20명)
- **자동화 테스트** (Automated Testing): 선택적, 시간 있으면

---

## ✅ 1. 수동 테스트 체크리스트

### 1.1 인증 플로우

#### 회원가입
- [ ] 이메일 형식 검증 (올바른 이메일만 허용)
- [ ] 비밀번호 최소 8자 검증
- [ ] 중복 이메일 방지
- [ ] 에러 메시지 명확성
- [ ] 성공 시 자동 로그인 및 온보딩으로 이동

**테스트 케이스**:
```
1. 유효한 이메일 + 비밀번호 → 성공
2. 잘못된 이메일 형식 → 에러 표시
3. 짧은 비밀번호 (7자) → 에러 표시
4. 이미 존재하는 이메일 → "이미 사용 중인 이메일입니다"
5. 네트워크 오류 시뮬레이션 → "다시 시도해주세요"
```

#### 로그인
- [ ] 올바른 계정 정보로 로그인 성공
- [ ] 잘못된 비밀번호 → 에러 표시
- [ ] 존재하지 않는 이메일 → 에러 표시
- [ ] "로그인 상태 유지" 기능 (Firebase 자동)
- [ ] 로그아웃 후 재로그인

#### 비밀번호 재설정 (선택적)
- [ ] 이메일 발송 확인
- [ ] 링크 클릭 시 비밀번호 변경 페이지 이동

---

### 1.2 Insight Mode

#### 문장 제시
- [ ] 10개 문장 쌍이 순서대로 표시
- [ ] 문장 A, B 모두 명확히 보임
- [ ] 선택 버튼 작동 (클릭/터치)
- [ ] 진행도 표시 (1/10, 2/10, ...)

#### 타이핑 기능
- [ ] 선택한 문장만 타이핑 입력창에 표시
- [ ] 실시간 글자별 색상 피드백 (정확: 초록, 오류: 빨강)
- [ ] 완료 시 자동으로 다음 문장으로 이동
- [ ] WPM, 정확도 계산 정확성
  - 예: "나는 충분히 잘하고 있다" (13자), 20초 소요 → WPM = 39
- [ ] 백스페이스 정상 작동
- [ ] 한글 조합 중 타이핑 정상 (ㄱ → 가 → 간)

**테스트 케이스**:
```
1. 정확히 타이핑 → 정확도 100%
2. 일부러 오타 → 정확도 감소 확인
3. 중간에 백스페이스 → 정상 수정 가능
4. 매우 빠르게 타이핑 (복붙 시뮬레이션) → WPM 비정상 방지
5. 매우 느리게 타이핑 → WPM 낮게 표시
```

#### 결과 화면
- [ ] 카테고리별 점수 막대 그래프 표시
- [ ] 프로파일 타입 정확히 할당
- [ ] 인사이트 메시지 표시
- [ ] "Therapy Mode 시작하기" 버튼 작동

#### 데이터 저장
- [ ] Firebase Firestore에 insightSessions 저장 확인
- [ ] 저장 실패 시 에러 처리
- [ ] UserContext에 프로파일 정보 업데이트 확인

---

### 1.3 Therapy Mode

#### 프로파일 기반 문장 제공
- [ ] Insight 프로파일에 맞는 문장 카테고리 표시
- [ ] 오늘의 문장 5개 표시 (또는 설정된 개수)
- [ ] 난이도 순서 (초급 → 중급 → 고급)

#### 타이핑 연습
- [ ] 문장 제시 명확
- [ ] 실시간 WPM/정확도 표시
- [ ] 완료 시 피드백 모달 표시
- [ ] "다음 문장" 버튼 작동
- [ ] "한 번 더" 버튼 작동 (같은 문장 재시도)

#### 피드백 시스템
- [ ] 정확도 100% → "완벽해요!" 메시지
- [ ] 정확도 95%+ → "훌륭해요!" 메시지
- [ ] 정확도 낮음 → "한 번 더 해보면 더 나아질 거예요" 메시지
- [ ] WPM, 정확도, 소요 시간 표시

#### 세션 관리
- [ ] 세션 시작 시 Firestore 문서 생성
- [ ] 문장 완료마다 sentences 배열 업데이트
- [ ] 5개 완료 시 세션 종료 및 totalDuration 업데이트
- [ ] 중간에 나갔다가 다시 들어와도 세션 유지 (또는 새 세션)

**테스트 케이스**:
```
1. 프로파일: stress_management → 스트레스 관리 문장 표시 확인
2. 5개 문장 모두 완료 → 세션 저장 확인
3. 중간에 페이지 이탈 → 데이터 손실 없음 (로컬 저장 또는 경고)
4. 같은 문장 3회 연습 → 마스터리 상태 업데이트
```

---

### 1.4 Dashboard

#### 데이터 표시
- [ ] 타이핑 속도 추이 그래프 (Chart.js/Recharts)
- [ ] 프로파일 레이더 차트
- [ ] 연속 사용 일수 (Streak) 정확성
- [ ] 마스터한 문장 수 정확성
- [ ] 총 세션 수

#### 상호작용
- [ ] "Insight 다시하기" 버튼 → Insight Mode로 이동
- [ ] "오늘의 연습" 버튼 → Therapy Mode로 이동
- [ ] 그래프 반응형 (모바일에서도 표시)

**테스트 케이스**:
```
1. 신규 사용자 (데이터 없음) → 빈 상태 메시지 표시
2. 7일 연속 사용 → Streak = 7 확인
3. 같은 문장 3회 이상 & 평균 정확도 95%+ → 마스터 카운트 증가
```

---

### 1.5 설정 페이지

- [ ] 계정 정보 표시 (이메일, 가입일)
- [ ] 데이터 다운로드 버튼 → JSON 파일 다운로드
- [ ] 계정 삭제 버튼 → 확인 모달 → 실제 삭제
- [ ] 개인정보처리방침, 이용약관 링크

---

## 📱 2. 반응형 및 브라우저 호환성 테스트

### 반응형 디자인

#### 모바일 (< 768px)
- [ ] 버튼 크기 44x44px 이상
- [ ] 텍스트 가독성 (최소 16px)
- [ ] 타이핑 입력 필드 터치 친화적
- [ ] 네비게이션 햄버거 메뉴 작동
- [ ] 그래프 모바일에서 스크롤 또는 축소

#### 태블릿 (768px - 1024px)
- [ ] 레이아웃 2열 그리드 적용 여부
- [ ] 여백 적절

#### 데스크탑 (> 1024px)
- [ ] 최대 너비 제한 (1200-1400px)
- [ ] 가운데 정렬

### 브라우저 호환성

#### Chrome (데스크탑 + 모바일)
- [ ] 모든 기능 정상 작동
- [ ] CSS 스타일 정상 표시

#### Safari (데스크탑 + iPhone)
- [ ] 타이핑 입력 이슈 확인 (한글 조합)
- [ ] CSS Flexbox/Grid 정상
- [ ] Firebase 정상 작동

#### Firefox (데스크탑)
- [ ] 기본 기능 작동
- [ ] 스타일 확인

#### Edge (선택적)
- [ ] 기본 기능 확인

---

## 🔒 3. 보안 및 프라이버시 테스트

### Firebase Security Rules
- [ ] 본인 데이터만 읽기 가능 (다른 사용자 데이터 접근 불가)
- [ ] 본인 데이터만 쓰기 가능
- [ ] 비인증 사용자는 접근 불가

**테스트 방법**:
```javascript
// Firebase Console에서 Rules Playground 사용
// 또는 브라우저 콘솔에서:

// 다른 사용자 ID로 조회 시도
db.collection('insightSessions')
  .where('userId', '==', 'other_user_id')
  .get()
  .then(snapshot => {
    console.log('접근 성공:', snapshot.size); // 0이어야 함
  })
  .catch(error => {
    console.log('접근 차단:', error); // Permission denied
  });
```

### 데이터 익명화
- [ ] Firestore에 이메일 저장 안 됨 (UID만)
- [ ] 민감 정보 암호화 확인

---

## ⚠️ 4. 에러 처리 테스트

### 네트워크 오류 시뮬레이션

#### Firebase 연결 실패
- [ ] Chrome DevTools → Network 탭 → Offline 모드
- [ ] 회원가입 시도 → "네트워크 오류" 메시지
- [ ] 데이터 저장 시도 → 로컬 스토리지 폴백 (구현했다면)

#### 느린 네트워크
- [ ] Chrome DevTools → Network 탭 → Slow 3G
- [ ] 로딩 스피너 표시 확인
- [ ] 타임아웃 처리 확인

### 사용자 입력 오류

#### 빈 입력
- [ ] 이메일 빈칸 → "이메일을 입력해주세요"
- [ ] 비밀번호 빈칸 → "비밀번호를 입력해주세요"

#### 잘못된 형식
- [ ] 이메일: "abc" → "올바른 이메일 형식이 아닙니다"
- [ ] 비밀번호: "123" → "비밀번호는 최소 8자 이상이어야 합니다"

### Firebase 에러 코드

```javascript
// Firebase 에러 핸들링 테스트
const errorMessages = {
  'auth/email-already-in-use': '이미 사용 중인 이메일입니다',
  'auth/invalid-email': '올바른 이메일 형식이 아닙니다',
  'auth/weak-password': '비밀번호는 최소 6자 이상이어야 합니다',
  'auth/user-not-found': '존재하지 않는 계정입니다',
  'auth/wrong-password': '비밀번호가 올바르지 않습니다'
};

// 각 에러 상황 테스트
// 1. 중복 이메일로 가입 시도
// 2. 잘못된 형식 이메일
// 3. 짧은 비밀번호
// 4. 존재하지 않는 계정으로 로그인
// 5. 틀린 비밀번호로 로그인
```

---

## 🧑‍🤝‍🧑 5. 내부 팀 테스트 프로토콜

### 목적
- 외부 사용자 테스트 전 치명적 버그 발견
- 사용성 개선점 도출
- 전체 플로우 검증

### 참가자
- 팀원 전원 (2-5명)
- 가능하면 개발에 참여하지 않은 지인 1-2명

### 테스트 기간
- Week 2 Day 12 (일요일): Insight + Therapy 테스트
- Week 3 Day 17 (금요일): 전체 플로우 최종 테스트

### 테스트 시나리오

#### Scenario 1: 신규 사용자 전체 플로우
```
1. 회원가입 (test1@example.com)
2. 온보딩 완료
3. Insight Mode 10개 문장 완료
4. 결과 확인
5. Therapy Mode 5개 문장 연습
6. Dashboard 확인
7. 설정에서 데이터 다운로드
8. 로그아웃
9. 다시 로그인
10. 이전 데이터 유지 확인
```

**소요 시간**: 약 20-30분

**기록 사항**:
- [ ] 완료 시간: ______분
- [ ] 발견된 버그: (리스트)
- [ ] 어려웠던 부분: (주관식)
- [ ] 개선 제안: (주관식)

#### Scenario 2: 반복 사용자
```
1. 로그인
2. Therapy Mode 연습 (3일 연속 시뮬레이션)
3. Dashboard에서 Streak 확인
4. Insight Mode 다시 시도
5. 프로파일 변화 확인
```

### 버그 보고 양식

```markdown
## 버그 보고

**제목**: [간단한 설명]

**재현 단계**:
1. [단계 1]
2. [단계 2]
3. [단계 3]

**예상 결과**: [어떻게 작동해야 하는가]

**실제 결과**: [실제로 어떻게 작동했는가]

**스크린샷**: (있다면)

**환경**:
- 브라우저: Chrome 120.0
- 운영체제: macOS Sonoma
- 기기: MacBook Pro / iPhone 13

**우선순위**: High / Medium / Low
```

---

## 👥 6. 사용자 테스트 계획 (Week 4)

### 6.1 참가자 모집

#### 목표 인원
- 최소: 10명
- 이상적: 15-20명

#### 모집 채널
- 대학 커뮤니티 (에브리타임, 학과 단톡방)
- SNS (Instagram, Facebook)
- 주변 지인 직접 요청

#### 모집 문구
```
🔥 타자연습 + 정신건강 플랫폼 "TheraType" 테스터 모집!

📅 기간: 2주
⏰ 시간: 하루 15분
🎁 혜택: 타이핑 실력 향상 + 참가 기념품 (1만원 상당)

✅ 참가 조건:
- 19-45세
- 한글 타이핑 가능 (속도 무관)
- PC 또는 태블릿 보유
- 주 3회 이상 참여 가능

관심 있으신 분은 [링크] 클릭!
```

#### 참가자 기준
- 나이: 19-45세
- 한글 타이핑 가능
- PC 또는 태블릿 보유
- 주 3회 이상 참여 가능
- 사전/사후 설문 응답 동의

### 6.2 테스트 프로토콜

#### Phase 1: 사전 설문 (5분)

**Google Forms 또는 TypeForm 사용**

질문:
1. 나이대: 19-25 / 26-35 / 36-45
2. 성별: 남 / 여 / 기타 / 밝히고 싶지 않음
3. 현재 타이핑 속도 (자가 평가): 느림 / 보통 / 빠름
4. 현재 기분 상태 (1-5점)
   - 1: 매우 나쁨, 5: 매우 좋음
5. 현재 스트레스 수준 (1-5점)
   - 1: 매우 낮음, 5: 매우 높음
6. TheraType에 기대하는 점: (자유 응답)

#### Phase 2: 2주 사용 기간

**권장 사용 패턴**:
- **Day 1**: Insight Mode 완료 (20분)
- **Day 2-7**: Therapy Mode 매일 15분
- **Day 8-14**: Therapy Mode 계속 (매일 15분)
- **Day 14**: (선택) Insight Mode 재평가

**모니터링**:
- Firebase Console에서 실시간 사용 데이터 확인
- 참가자별 사용 빈도 추적
- 중간 체크인 (1주 후): "사용 중 불편한 점이 있나요?"

**리마인더**:
- 이메일 또는 카카오톡으로 주 2회 리마인더 발송
- 예: "안녕하세요! TheraType 오늘도 사용해보셨나요? 😊"

#### Phase 3: 사후 설문 (10분)

**정량 질문**:
1. 타이핑 속도 재측정 (TheraType 내 테스트)
2. 기분 상태 (1-5점) - 사전과 비교
3. 스트레스 수준 (1-5점) - 사전과 비교
4. **System Usability Scale (SUS)** - 10문항

**SUS 문항 예시**:
- "이 시스템을 자주 사용하고 싶다" (1-5점)
- "이 시스템은 불필요하게 복잡하다" (1-5점)
- "이 시스템은 사용하기 쉬웠다" (1-5점)
- ... (총 10문항)

**정성 질문**:
1. 가장 좋았던 점은?
2. 개선이 필요한 점은?
3. 계속 사용하고 싶은가? (예/아니오 + 이유)
4. 친구에게 추천하겠는가? (예/아니오 + 이유)
5. 기타 의견

### 6.3 데이터 분석 계획

#### 정량 분석

```python
# 예시 분석 스크립트 (Python + Pandas)

import pandas as pd
from scipy import stats

# 데이터 로드
pre_survey = pd.read_csv('pre_survey.csv')
post_survey = pd.read_csv('post_survey.csv')
usage_data = pd.read_csv('usage_data.csv')

# 1. 타이핑 속도 변화
pre_wpm = pre_survey['self_reported_wpm']
post_wpm = post_survey['measured_wpm']

# Paired t-test
t_stat, p_value = stats.ttest_rel(pre_wpm, post_wpm)
print(f"타이핑 속도 변화: {pre_wpm.mean()} → {post_wpm.mean()}")
print(f"통계적 유의성: p={p_value}")

# 2. 사용자 참여도
avg_sessions = usage_data.groupby('user_id')['session_count'].mean()
completion_rate = (usage_data['days_used'] >= 10).sum() / len(usage_data) * 100
print(f"평균 세션 수: {avg_sessions}")
print(f"10일 이상 사용률: {completion_rate}%")

# 3. SUS 점수
sus_scores = post_survey['sus_score']
print(f"평균 SUS 점수: {sus_scores.mean()} (SD={sus_scores.std()})")
# 68점 이상: 평균 이상
# 80점 이상: 우수

# 4. 기분/스트레스 변화
mood_change = post_survey['mood'] - pre_survey['mood']
stress_change = post_survey['stress'] - pre_survey['stress']
print(f"기분 변화: {mood_change.mean()}")
print(f"스트레스 변화: {stress_change.mean()}")
```

#### 정성 분석

**방법**: 테마 코딩 (Thematic Coding)

1. 자유 응답 텍스트 수집
2. 반복되는 키워드/테마 식별
   - 긍정적 피드백: "재미있다", "도움이 된다", "지속 가능"
   - 부정적 피드백: "지루하다", "문장 부족", "버그"
   - 개선 제안: "모바일 앱", "음악 추가", "친구 기능"
3. 빈도 계산
4. 대표 인용구 선정 (발표 자료 활용)

**도구**:
- 엑셀/구글 시트 (간단한 코딩)
- NVivo, MAXQDA (고급 질적 분석 소프트웨어)

---

## 📊 7. 성공 기준 및 의사결정

### 기술적 성공
- [ ] 프로토타입 안정성: 치명적 버그 0개
- [ ] 데이터 저장 성공률: 95% 이상
- [ ] 사용자 완료율: 50% 이상 (10명 중 5명이 2주 완료)

### 사용성 성공
- [ ] SUS 점수: 68 이상 (평균 이상)
- [ ] 사용자 만족도: 3.5/5.0 이상
- [ ] "다시 사용하고 싶다": 60% 이상
- [ ] "친구에게 추천하겠다": 50% 이상

### 제품 검증 성공
- [ ] 타이핑 속도 향상: 긍정적 경향 (통계적 유의성 불필요)
- [ ] 기분/스트레스 개선: 긍정적 경향
- [ ] 질적 피드백: 긍정 > 부정

### 실패 시 대응 방안

#### Scenario A: 사용자 모집 실패 (5명 미만)
- 대응: 지인 적극 동원, 인센티브 증액, 테스트 기간 단축
- 최소 기준: 5명으로 축소, 질적 피드백 중심

#### Scenario B: 완료율 낮음 (30% 미만)
- 원인 분석: 중간 체크인 피드백 확인
- 대응: 리마인더 빈도 증가, 이탈 원인 인터뷰

#### Scenario C: SUS 점수 낮음 (60 미만)
- 원인: 사용성 문제
- 대응: 주요 불편 사항 즉시 개선, 추가 테스트

---

## 🐛 8. 버그 우선순위 및 트리아지

### Priority Levels

#### P0 (Critical) - 즉시 수정
- 앱 크래시
- 데이터 손실
- 로그인 불가
- Firebase 연결 실패

#### P1 (High) - 24시간 이내
- 주요 기능 작동 불가 (Insight/Therapy Mode)
- 타이핑 분석 오류
- 대시보드 표시 오류

#### P2 (Medium) - 1주 이내
- UI 깨짐 (모바일)
- 사소한 계산 오류
- 로딩 속도 느림

#### P3 (Low) - 시간 있을 때
- 텍스트 오타
- 디자인 개선
- 성능 최적화 (이미 작동하는 경우)

### 버그 트리아지 회의

**빈도**: 주 2회 (화, 금)

**참석자**: 개발팀 전원

**안건**:
1. 신규 버그 리뷰
2. 우선순위 결정
3. 담당자 할당
4. 마감일 설정

---

## 📝 9. 테스트 보고서 템플릿

### 내부 팀 테스트 보고서

```markdown
# TheraType 내부 팀 테스트 보고서

**일시**: 2025-01-XX
**참가자**: [이름 1], [이름 2], [이름 3]

## 테스트 환경
- 브라우저: Chrome 120.0, Safari 17.0
- 기기: MacBook Pro, iPhone 13, Galaxy S23
- 네트워크: Wi-Fi, 4G

## 테스트 시나리오 결과

### Scenario 1: 신규 사용자 플로우
- ✅ 회원가입: 성공 (3/3)
- ✅ Insight Mode: 성공 (3/3)
- ⚠️ Therapy Mode: 1명 타이핑 입력 버그 발견
- ✅ Dashboard: 성공 (3/3)

### 발견된 버그
1. [P1] Therapy Mode: 한글 조합 중 백스페이스 오작동 (#15)
2. [P2] Dashboard: 모바일에서 차트 스크롤 안 됨 (#16)
3. [P3] 로그인: 에러 메시지 잘림 (#17)

## 개선 제안
- 온보딩 슬라이드 3개 → 2개로 축소 (너무 김)
- Therapy Mode 피드백 메시지 더 다양하게
- Dashboard에 "데이터 공유" 기능 추가 (향후)

## 결론
- 전체적으로 안정적
- P1 버그 수정 후 사용자 테스트 진행 가능
- 예상 수정 시간: 1일
```

### 사용자 테스트 최종 보고서

```markdown
# TheraType 사용자 테스트 최종 보고서

**기간**: 2025-01-XX ~ 2025-02-XX (2주)
**참가자**: 15명 (목표: 10-20명)

## 1. 참가자 특성
- 나이대: 19-25세 (60%), 26-35세 (40%)
- 성별: 남 (40%), 여 (53%), 기타 (7%)
- 타이핑 수준: 느림 (20%), 보통 (53%), 빠름 (27%)

## 2. 사용 패턴
- 평균 세션 수: 8.2회 / 2주
- 완료율: 67% (10명)
- 평균 세션 길이: 18분

## 3. 정량 결과

### 타이핑 속도 변화
- 사전: 42 WPM (SD=12)
- 사후: 48 WPM (SD=10)
- 변화: +6 WPM (+14%)
- 통계: t(14)=2.3, p=0.04 (유의미)

### 사용성 (SUS)
- 평균 점수: 72 (SD=8)
- 해석: 평균 이상 (68 이상)

### 만족도
- 사용자 만족도: 4.1 / 5.0
- "다시 사용하고 싶다": 73% (11/15)
- "친구에게 추천": 67% (10/15)

## 4. 질적 피드백

### 긍정적 피드백
- "생각보다 재미있었다" (8명)
- "타이핑 실력이 늘었다" (6명)
- "문장이 위로가 됐다" (5명)

### 부정적 피드백
- "문장이 더 다양했으면" (4명)
- "모바일 앱이 있었으면" (3명)
- "가끔 지루했다" (2명)

### 개선 제안
- 문장 추가 (20개 → 50개 이상)
- 게이미피케이션 강화 (배지, 레벨)
- 친구와 경쟁 기능

## 5. 결론
- ✅ 기술적 성공: 안정성, 데이터 저장 정상
- ✅ 사용성 성공: SUS 72, 만족도 4.1
- ✅ 제품 검증: 타이핑 속도 향상, 긍정적 피드백

## 6. 향후 계획
- Phase 2: 문장 확장, 모바일 앱 개발
- Phase 3: 임상 검증 연구 (8-12주 RCT)
```

---

**문서 버전**: 1.0
**최종 수정**: 2025-01-30
**작성자**: Implementation Lead
